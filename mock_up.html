<!DOCTYPE html>
<html>
<head>
  <title>Capsul</title>
  <link rel="stylesheet" href="map.css">
  <link rel="stylesheet" href="mock_up.css">
  <link href='http://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places"></script>
  <script src="javascript/libraries/handlebars_lib.js"></script>
  <script src="javascript/map.js"></script>
  <script src="javascript/searchbox.js"></script>
  <script src="javascript/content/images.js"></script>
  <script src="javascript/content/text.js"></script>
  <script src="javascript/content/dataretriever.js"></script>
  <script src="javascript/libraries/q.js"></script>
  <script src="http://fb.me/react-0.11.1.js"></script>
  <script src="http://fb.me/JSXTransformer-0.11.1.js"></script>
  <script src="http://code.jquery.com/jquery-1.10.0.min.js"></script>

<link href='http://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="mock_up.css">
<link rel="stylesheet" href="map.css">
</head>

  <body>

   <div class = "schmee"> <input id="pac-input" class="search-box" type="text" placeholder="Search for a place">
     <input id="datepicker" class = "date-box" type="date"  name ="date">
      <input type ="submit" id="button" value ="Time Travel">
    </div>

    <div id="map-canvas"></div>
      <!-- if we do input type "date" it gives the calendar as well -->

    <div id="image-container">
    </div>
    <ul class="rig columns-3" id="content-container">
    </ul>

  </body>
</html>


<script type="text/jsx">
  /** @jsx React.DOM */

var Logo = React.createClass({
  render: function(){
    return (
      <div className="logo">
        <img src={this.props.data} height="20px" width="20px"/>
      </div>
    )
  }
});

var Username = React.createClass({
  render: function(){
    return (
      <div className="username">
        <h3>{this.props.data}</h3>
      </div>
    )
  }
});

var Photo = React.createClass({
  render: function() {
    return (
      <div className="photo">
        <img src={this.props.data} height="400px" width="400px"/>
      </div>
    )
  }
});

var Hashtag = React.createClass({
  render: function(){
    return (
      <div className="hashtag">
        {this.props.data}
      </div>
    )
  }
});

var PhotoBox = React.createClass({
  render: function() {
    var picture = this.props.picture
    return (
      <div className="photobox">
        <Logo data={picture.logo} />
        <Username data={picture.username} />
        <Photo data={picture.url} />
        <Hashtag data={picture.hashtag} />
      </div>
    )
  }
});

var PhotoBoxList = React.createClass({
  getInitialState: function() {
    return { photos: [] }
  },

  render: function(){
    var photoBoxes = []
    this.state.photos.forEach(function(photobox) {
      photoBoxes.push(PhotoBox({picture: photobox}))
    })
    return (
      <div className="photoBoxList">
        {photoBoxes}
      </div>
    )
  },

  componentDidMount: function() {
    $(Pictures).on("update",function(){
      this.setState({ photos: Pictures.all() })
    }.bind(this));
  }
});

React.renderComponent(
  <PhotoBoxList />,
  document.getElementById("image-container")
)
</script>

